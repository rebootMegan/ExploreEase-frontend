(function(t,e){typeof exports=="object"&&typeof module!="undefined"?module.exports=e(require("code-inspector-core"),require("path")):typeof define=="function"&&define.amd?define(["code-inspector-core","path"],e):(t=typeof globalThis!="undefined"?globalThis:t||self,t.WebpackCodeInspectorPlugin=e(t.codeInspectorCore,t.path))})(this,function(t,e){"use strict";var _=Object.defineProperty,T=Object.defineProperties;var L=Object.getOwnPropertyDescriptors;var p=Object.getOwnPropertySymbols;var D=Object.prototype.hasOwnProperty,E=Object.prototype.propertyIsEnumerable;var v=(t,e,s)=>e in t?_(t,e,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[e]=s,f=(t,e)=>{for(var s in e||(e={}))D.call(e,s)&&v(t,s,e[s]);if(p)for(var s of p(e))E.call(e,s)&&v(t,s,e[s]);return t},h=(t,e)=>T(t,L(e));let s="";typeof __dirname!="undefined"?s=__dirname:s=e.dirname(t.fileURLToPath(typeof document=="undefined"&&typeof location=="undefined"?require("url").pathToFileURL(__filename).href:typeof document=="undefined"?location.href:document.currentScript&&document.currentScript.src||new URL("index.umd.js",document.baseURI).href));let i=!0;const x=(r,n)=>{var u,c;if(!i)return;i=!1;const d=(n==null?void 0:n.compiler)||n,o=(u=d==null?void 0:d.options)==null?void 0:u.module;((o==null?void 0:o.rules)||(o==null?void 0:o.loaders)||[]).push(f({test:(c=r==null?void 0:r.match)!=null?c:/\.(vue|jsx|tsx|js|ts|mjs|mts)$/,exclude:/node_modules/,use:[{loader:e.resolve(s,"./loader.js"),options:r}]},r.enforcePre===!1?{}:{enforce:"pre"}),h(f({},r!=null&&r.injectTo?{resource:r==null?void 0:r.injectTo}:{test:/\.(jsx|tsx|js|ts|mjs|mts)$/,exclude:/node_modules/}),{use:[{loader:e.resolve(s,"./inject-loader.js"),options:r}],enforce:"post"}))};class m{constructor(n){this.options=n||{}}apply(n){var a,u,c,l,y,j;if(i=!0,this.options.close)return;let d;if(typeof((a=this.options)==null?void 0:a.dev)=="function"?d=(u=this.options)==null?void 0:u.dev():d=(c=this.options)==null?void 0:c.dev,d===!1||!d&&((l=n==null?void 0:n.options)==null?void 0:l.mode)!=="development"&&process.env.NODE_ENV!=="development")return;((j=(y=n==null?void 0:n.options)==null?void 0:y.cache)==null?void 0:j.type)==="filesystem"&&(n.options.cache.version="code-inspector-".concat(Date.now()));const o={port:0,entry:"",nextJsEntry:"",ssrEntry:""};x(h(f({},this.options),{record:o}),n)}}return m});
